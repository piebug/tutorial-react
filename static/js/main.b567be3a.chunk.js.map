{"version":3,"sources":["index.js"],"names":["Square","props","className","isWinner","onClick","value","Board","i","this","squares","winningSquares","includes","key","rows","Array","fill","map","row","square","j","renderSquare","React","Component","MovePosition","col","Move","position","renderPosition","desc","move","isCurrent","toUpperCase","slice","disabled","MoveList","state","reversed","setState","currentMove","history","moves","step","oldSquares","newSquares","newSquare","length","parseInt","determinePosition","renderMove","reverse","reverseMoves","Game","stepNumber","xIsNext","calculateWinner","concat","status","current","winner","player","handleClick","jumpTo","lines","a","b","c","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b567be3a.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nfunction Square(props) {\r\n  return (\r\n    <button\r\n      className={\"square\" + (props.isWinner ? \" winner\" : \"\")}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.value}\r\n    </button>\r\n  );\r\n}\r\n\r\nclass Board extends React.Component {\r\n  renderSquare(i) {\r\n    return (\r\n      <Square\r\n        value={this.props.squares[i]}\r\n        onClick={() => this.props.onClick(i)}\r\n        isWinner={(this.props.winningSquares && this.props.winningSquares.includes(i))}\r\n        key={i}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const rows = Array(3).fill(null).map((row, i) => {\r\n      const squares = Array(3).fill(null).map((square, j) => {\r\n        return this.renderSquare(j + (3 * i));\r\n      });\r\n      return (\r\n        <div className=\"board-row\" key={i}>\r\n          {squares}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        {rows}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction MovePosition(props) {\r\n  if (!props.col || !props.row) {\r\n    return null;\r\n  }\r\n  return (\r\n    <span className=\"move-position\">\r\n      ({props.col}, {props.row})\r\n    </span>\r\n  );\r\n}\r\n\r\nclass Move extends React.Component {\r\n  renderPosition() {\r\n    return (\r\n      <MovePosition\r\n        col={this.props.position ? this.props.position.col : null}\r\n        row={this.props.position ? this.props.position.row : null}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const position = this.renderPosition();\r\n    let desc = this.props.move ?\r\n      'move #' + this.props.move :\r\n      'game start';\r\n    desc = this.props.isCurrent ?\r\n      desc[0].toUpperCase() + desc.slice(1) :\r\n      \"Go to \" + desc;\r\n\r\n    return (\r\n      <button\r\n        className={\"btn btn-primary move\" + (this.props.isCurrent ? \" current\" : \"\")}\r\n        disabled={this.props.isCurrent}\r\n        onClick={this.props.onClick}\r\n      >\r\n        {desc} {position}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nclass MoveList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reversed: false,\r\n    };\r\n  }\r\n\r\n  reverseMoves() {\r\n    const reversed = this.state.reversed;\r\n    this.setState({\r\n      reversed: !reversed,\r\n    });\r\n  }\r\n\r\n  renderMove(move, position) {\r\n    return (\r\n      <Move\r\n        move={move}\r\n        position={position}\r\n        isCurrent={(this.props.currentMove === move)}\r\n        onClick={() => this.props.onClick(move)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const history = this.props.history;\r\n    let moves = history.map((step, move) => {\r\n      const previousMove = move ?\r\n        history[move - 1].squares : null;\r\n      const position = determinePosition(previousMove, step.squares);\r\n\r\n      return (\r\n        <li key={move} className=\"my-2\">\r\n          {this.renderMove(move, position)}\r\n        </li>\r\n      );\r\n    });\r\n    if (this.state.reversed) {\r\n      moves = moves.reverse();\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <ol className=\"moves\">{moves}</ol>\r\n        <div className=\"d-flex justify-content-end\">\r\n          <button className=\"btn btn-outline-secondary btn-sm sort\" onClick={() => this.reverseMoves()}>\r\n            Sort moves in\r\n            {this.state.reversed ? \" ascending \" : \" descending \"}\r\n            order\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [{\r\n        squares: Array(9).fill(null),\r\n      }],\r\n      stepNumber: 0,\r\n      xIsNext: true,\r\n    };\r\n  }\r\n\r\n  handleClick(i) {\r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = current.squares.slice();\r\n    if (calculateWinner(squares) || squares[i]) {\r\n        return;\r\n    }\r\n    squares[i] = this.state.xIsNext ? 'X' : 'O';\r\n    this.setState({\r\n      history: history.concat([{\r\n        squares: squares,\r\n      }]),\r\n      stepNumber: history.length,\r\n      xIsNext: !this.state.xIsNext,\r\n    });\r\n  }\r\n\r\n  jumpTo(step) {\r\n    this.setState({\r\n      stepNumber: step,\r\n      xIsNext: (step % 2) === 0,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const history = this.state.history;\r\n    const current = history[this.state.stepNumber];\r\n    const winner = calculateWinner(current.squares);\r\n\r\n    let status;\r\n    if (winner) {\r\n      status = 'Winner: ' + winner.player;\r\n    } else if (this.state.stepNumber < 9) {\r\n      status = 'Next Player: ' + (this.state.xIsNext ? 'X' : 'O');\r\n    } else {\r\n      status = \"Draw\"\r\n    }\r\n\r\n    return (\r\n      <div className=\"game container-fluid p-md-5 p-3\">\r\n        <h1 className=\"px-lg-5 py-2\">Tic-Tac-Toe</h1>\r\n        <div className=\"row px-lg-5 py-3\">\r\n          <div className=\"game-board col-12 col-md py-3\">\r\n            <h2 className=\"status\">{status}</h2>\r\n            <Board\r\n              squares={current.squares}\r\n              winningSquares={winner ? winner.move : null}\r\n              onClick={(i) => this.handleClick(i)}\r\n            />\r\n          </div>\r\n          <div className=\"game-info col-12 col-md py-3\">\r\n            <h2>Moves</h2>\r\n            <MoveList\r\n              history={this.state.history}\r\n              currentMove={this.state.stepNumber}\r\n              onClick={(move) => this.jumpTo(move)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return {\r\n        player: squares[a],\r\n        move: lines[i],\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction determinePosition(oldSquares, newSquares) {\r\n  let newSquare;\r\n  for (let i = 0; i < newSquares.length; i++) {\r\n    if ((!oldSquares && newSquares[i]) || (oldSquares && (oldSquares[i] !== newSquares[i]))) {\r\n      newSquare = i;\r\n      break;\r\n    }\r\n  }\r\n  if (newSquare === null) { return null; }\r\n\r\n  const row = parseInt(newSquare / 3) + 1;\r\n  const col = (newSquare % 3) + 1;\r\n  return {\r\n    col: col,\r\n    row: row,\r\n  };\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n\r\n/* TODO: my ideas for improvements\r\n *  - improve the overall styling using Bootstrap\r\n *  - add the ability to toggle between light and dark mode\r\n *  - add the ReactJS logo gif to the page\r\n */\r\n"],"sourceRoot":""}